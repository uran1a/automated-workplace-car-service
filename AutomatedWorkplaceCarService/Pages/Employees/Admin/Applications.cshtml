@page
@model AutomatedWorkplaceCarService.WEB.Pages.Employees.Admin.ApplicationsModel
@{
	ViewData["Title"] = "Заявки";
}
<div class="row">
	<h1>Заявки</h1>
	<table class="table table-striped">
		<thead>
			<tr>
				<th scope="col">#</th>
				<th scope="col">Период работы</th>
				<th scope="col">Цена (руб.)</th>
				<th scope="col"># Автомобиля</th>
				<th scope="col">Автомобиль</th>
				<th scope="col"># Мастера</th>
				<th scope="col">Мастер</th>
				<th scope="col"># Клиента</th>
				<th scope="col">Клиент</th>
				<th scope="col">Статус</th>
				<th scope="col"></th>
			</tr>
		</thead>
		<tbody>
			@if(Model.Applicatons != null){
				@foreach (var item in Model.Applicatons)
				{
					<tr>
						<td>@item.Id</td>
						<td>@item.StartWork.ToShortDateString() - @item.EndWork.ToShortDateString()</td>
						<td>@item.Amount</td>
						<td>@item.CarId</td>
						<td>@item.Car.Brand.Name @item.Car.Model.Name</td>
						<td>@item.EmployeeId</td>
						<td>@item.Employee.Surname @item.Employee.Name @item.Employee.Patronymic</td>
						<td>@item.ClientId</td>
						<td>@item.Client.Surname @item.Client.Name @item.Client.Patronymic</td>
						<td>@item.Stage.Name</td>
						<td>
							<a class="btn btn-danger" asp-route-id="@item.Id" asp-page="/Employees/Admin/DeleteApplication">Удалить</a>
						</td>
					</tr>
				}
			}
		</tbody>
	</table>
	<a class="btn btn-primary" asp-page="/Employees/Admin/CreateApplication">Добавить</a>
</div>
